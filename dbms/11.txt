SET SERVEROUTPUT ON;

DECLARE
  -- Variable to accept department name from the user
  v_dept VARCHAR2(20);

  -- Parameterized cursor
  CURSOR c_student(p_dept VARCHAR2) IS
    SELECT student_id, student_name, department
    FROM students
    WHERE department = p_dept;

  -- Variables to hold each record's data
  v_id     students.student_id%TYPE;
  v_name   students.student_name%TYPE;
  v_dname  students.department%TYPE;

BEGIN
  -- Accept department input from user
  v_dept := '&department';

  -- Open cursor with parameter
  OPEN c_student(v_dept);

  LOOP
    FETCH c_student INTO v_id, v_name, v_dname;
    EXIT WHEN c_student%NOTFOUND;

    DBMS_OUTPUT.PUT_LINE(
      'ID: ' || v_id ||
      ' | Name: ' || v_name ||
      ' | Department: ' || v_dname
    );
  END LOOP;

  CLOSE c_student;
END;
/
